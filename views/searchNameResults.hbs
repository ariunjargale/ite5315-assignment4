<h2>{{title}}</h2>

{{#if listings.length}}
  <table border="1" cellpadding="6" cellspacing="0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Host</th>
        <th>Country</th>
        <th>Room Type</th>
        <th>Price</th>
        <th>Rating</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {{#each listings}}
        <tr class="{{rowClass NAME}}">
          <td>{{id}}</td>
          <td>{{checkName NAME}}</td>
          <td>{{[host name]}}</td>
          <td>{{country}}</td>
          <td>{{[room type]}}</td>
          <td>${{price}}</td>
          <td>{{[review rate number]}}</td>
          <td>
            <a href="/listings/{{this.id}}/edit" class="action-edit">Edit</a>

            <form
              action="/listings/{{this.id}}/delete"
              method="POST"
              class="action-delete"
            >
              <button
                type="submit"
                onclick="return confirm('Are you sure you want to delete this listing?');"
                class="action-delete"
              >
                Delete
              </button>
            </form>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>

{{else}}
  <p style="color:red;">No matching properties found.</p>
{{/if}}

<div class="pagination">
  {{#if (gt page 1)}}
    <a href="/search/name?name={{searchName}}&page={{sub page 1}}" class="page-link">&laquo; Previous</a>
  {{/if}}

  <span class="page-info">Page
    <strong>{{page}}</strong>
    of
    {{totalPages}}</span>

  {{#if (lt page totalPages)}}
    <a href="/search/name?name={{searchName}}&page={{add page 1}}" class="page-link">Next &raquo;</a>
  {{/if}}
</div>